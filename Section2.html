<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Section 2: Grammar Multiple Choice Test</title>
    
    <!-- Import common styles -->
    <link rel="stylesheet" href="styles-common.css">
    
    <style>
        /* Section 2 specific styles - keeping original styling not in common CSS */
        .question-text {
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
            line-height: 1;
        }
        
        .question-number {
            color: #1976D2;
            font-weight: 700;
        }
        
        /* Explanation section */
        .explanation-section {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: #fff3e0;
            border-left: 4px solid #FF9800;
            border-radius: 6px;
        }
        
        .explanation-section.show {
            display: block;
        }
        
        .explanation-title {
            font-weight: 700;
            color: #E65100;
            margin-bottom: 8px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .explanation-text {
            color: #5D4037;
            font-size: 14px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <!-- ===== TOP BAR (FIXED) ===== -->
    <div class="top-bar" id="topBar">
        <div class="header">
            <h1>üìù Section 2: Choose the best answer for each question</h1>
            <div class="font-controls">
                <button>A+</button>
                <button>A‚àí</button>
            </div>
        </div>
        <div class="navigation" id="navigation" style="display: none;"></div>
    </div>

    <div class="container">
        <div id="loading" class="loading">ƒêang t·∫£i ƒë·ªÅ thi t·ª´ JSON...</div>
        <div id="error" class="error" style="display: none;"></div>
        
        <div id="sectionsContainer" style="display: none;"></div>
        
        <div class="button-container">
            <button class="submit-btn" id="submitBtn" style="display: none;">N·ªôp b√†i</button>
            <button class="retry-btn" id="retryBtn">L√†m l·∫°i</button>
            <button class="top-btn">V·ªÅ ƒë·∫ßu trang</button>
        </div>
    </div>

    <!-- Result Popup Modal -->
    <div id="resultModal" class="modal">
        <div class="modal-content">
            <div class="emoji" id="resultEmoji">üéâ</div>
            <div class="message" id="resultMessage">Xu·∫•t s·∫Øc!</div>
            <div class="score" id="resultScore">0/0</div>
            <div class="percentage" id="resultPercentage">ƒêi·ªÉm s·ªë: 0%</div>
            <button class="modal-close-btn" id="modalCloseBtn">ƒê√≥ng</button>
        </div>
    </div>

    <!-- Import all modules -->
    <script src="state-manager.js"></script>
    <script src="json-loader.js"></script>
    <script src="navigation.js"></script>
    <script src="question-renderer.js"></script>
    <script src="answer-validator.js"></script>
    <script src="score-calculator.js"></script>
    <script src="modal-manager.js"></script>
    <script src="font-controller.js"></script>
    <script src="scroll-controller.js"></script>
    <script src="retry-handler.js"></script>
    <script src="app-controller.js"></script>

    <script>
        // Initialize app when page loads
        window.addEventListener('load', () => {
            AppController.init({
                jsonFile: 'reading-s2-questions.json',
                hasImage: false,
                hasExplanation: true,
                fontSize: 18,
                optionFontSize: 15,
                explanationFontSize: 14
            });
        });
    </script>
</body>
</html>