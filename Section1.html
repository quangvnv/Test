<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Section 1: Image-Based Multiple Choice Test</title>
    
    <!-- Import common styles -->
    <link rel="stylesheet" href="styles-common.css">
    
    <style>
        /* Section 1 specific styles */
        .question-item {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .question-image {
            display: flex;
            align-items: center;
            justify-content: center;
            background: #fff;
            padding: 20px;
            border-radius: 6px;
            border: 2px solid #e0e0e0;
            max-height: 215px;
        }
        
        .question-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 4px;
        }
        
        .question-image .placeholder {
            color: #999;
            text-align: center;
            padding: 60px 20px;
        }
        
        @media (max-width: 768px) {
            .question-item {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- ===== TOP BAR (FIXED) ===== -->
    <div class="top-bar" id="topBar">
        <div class="header">
            <h1>üìù Section 1: Choose the best answer for each note, message or email</h1>
            <div class="font-controls">
                <button>A+</button>
                <button>A‚àí</button>
            </div>
        </div>
        <div class="navigation" id="navigation" style="display: none;"></div>
    </div>

    <div class="container">
        <div id="loading" class="loading">ƒêang t·∫£i ƒë·ªÅ thi t·ª´ JSON...</div>
        <div id="error" class="error" style="display: none;"></div>
        
        <div id="sectionsContainer" style="display: none;"></div>
        
        <div class="button-container">
            <button class="submit-btn" id="submitBtn" style="display: none;">N·ªôp b√†i</button>
            <button class="retry-btn" id="retryBtn">L√†m l·∫°i</button>
            <button class="top-btn">V·ªÅ ƒë·∫ßu trang</button>
        </div>
    </div>

    <!-- Result Popup Modal -->
    <div id="resultModal" class="modal">
        <div class="modal-content">
            <div class="emoji" id="resultEmoji">üéâ</div>
            <div class="message" id="resultMessage">Xu·∫•t s·∫Øc!</div>
            <div class="score" id="resultScore">0/0</div>
            <div class="percentage" id="resultPercentage">ƒêi·ªÉm s·ªë: 0%</div>
            <button class="modal-close-btn" id="modalCloseBtn">ƒê√≥ng</button>
        </div>
    </div>

    <!-- Import all modules -->
    <script src="state-manager.js"></script>
    <script src="json-loader.js"></script>
    <script src="navigation.js"></script>
    <script src="question-renderer.js"></script>
    <script src="answer-validator.js"></script>
    <script src="score-calculator.js"></script>
    <script src="modal-manager.js"></script>
    <script src="font-controller.js"></script>
    <script src="scroll-controller.js"></script>
    <script src="retry-handler.js"></script>
    <script src="app-controller.js"></script>

    <script>
        // Initialize app when page loads
        window.addEventListener('load', () => {
            AppController.init({
                jsonFile: 'reading-s1-questions.json',
                hasImage: true,
                hasExplanation: false,
                fontSize: 18,
                optionFontSize: 15
            });
        });
    </script>
</body>
</html>